# 14. 맺음말

## 14.1 프로젝트 종료

빌드 환경을 만들고 부르로더를 만들었다. 그리고 주변장치를 제어해서 화면에 글자를 출력하고 키보드 입력을 인터럽트로 처리했다. 타이머 하드웨어를 사용해서 시간도 다룰 수 있게 만들었다. 태스크와 스케줄러, 컨텍스트 스위칭을 만들어서 RTOS다운 기능도 만들고, 메시지와 동기화 기능으로 멀티코어 환경에 필수적인 기능도 만들었다. 이렇게 한 단계씩 거치면서 RTOS를 만들었다.

## 14.2 펌웨어

RTOS도 기본적으로 펌웨어이므로 이 책은 아무것도 없는 상태에서 잘 동작하는 펌웨어를 만드는 과정을 설명한 책이기도 하다. 펌웨어는 플랫폼과 하드웨어를 잘 알아야 제대로 만들 수 있다. 하드웨어를 제어하기 위해서는 데이터시트에서 필요한 정보를 얻어야 한다. 다른 더 복잡한 하드웨어도 이 책에서 다룬 것과 근본적으로 다르지 않다. 이 책에서 다루는 범위를 완벽히 이해한다면 앞으로 더 크고 어려운 프로젝트도 해낼 수 있을 것이다.

## 14.3 RTOS

RTOS의 가장 기본적인 기능인 태스크 관련 기능도 만들었다. 태스크 관리, 컨텍스트 스위칭, 메모리 관리 등의 기능을 구현하기 위해 자료 구조를 설계하였다. 그리고 이 자료 구조를 활용하는 코드를 작성하였다.

태스크가 가장 기본적인 기능이라면 독립된 태스크 간에 정보를 주고 받는 메시지와 이벤트 긴으은 RTOS가 꼭 지원해야 하는 중요 기능이다. 공유 메모리에서 전역 변수를 이용하는 이 구현은 멀티코어 환경에서 코어 간 혹은 개별 코어에서 동작하는 태스크 간 코어를 가로질러 정보를 주고받는 중요한 기술이다.

동기화 기능도 큰 틀에서 보면 메시지와 이벤트 기능을 구현하는 방법과 비슷하다. 방법이 비슷할 뿐 목적과 동작은 다르다. 이 작은 차이로 서로 다른 필요한 기능을 구현할 수 있다.